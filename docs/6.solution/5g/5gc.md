### 1.5G 核心网介绍

核心网络建设主要用于提供 5G 终端设备（如手机，车载终端，摄像头等设备）的身份鉴权、流量分发、边缘计算、网络切片等业务能力，实现 5G 终端设备的安全接入，提供高速流量转发通道，支持多类型终端不同切片接入，提供网络层面的隔离能力，降低终端接入的时延，提供物联网终端的海量接入能力。整体架构请参照下图：

![](http://cdn1.ccidcom.com/attach/image/20190624/1561353567882863.jpg)

- 核心网建设采用分布式架构部署，提高服务及数据高可用及容灾能力，在单一节点故障后其他节点快速承接故障节点的业务，提供快速恢复能力。
- 核心网的建设符合 3GPP-R16 规范，具备与运营商网络互通能力，具备网络切片与边缘计算能力

### 2.5G 技术特性

5G 核心的技术通过对三大应用场景(增强移动宽带（eMBB）、海量机器通信 （mMTC）和超高可靠低时延通信（uRLLC）)的定义丰富了网络连接的适用范围，进而满足了新增的连接需求，将互联网从“人”进一步扩大到“物”。如果说 4G 改变了人与人之间的连接方式，那 5G 就改变了“人与物”及“物与物”的连接方式。

<div  align=center>
</div>
<img src="http://urcs.feinno.com:8088/file/get/img/ea978ccd-f583-4315-8384-f060aaed03a9">

- 增强移动宽带（eMBB）：增强移动宽带主要带来的改进是移动连接速率的大幅改善， 峰值速率（从 1Gbps 提升到 10Gbps~20Gbps）和用户体验速率（从 10Mbps 提升到 100Mbps~1Gbps），在保证广覆盖和移动性的前提下为用户提供更快的数据速率。频谱效率提升 3 至 5 倍。
- 低功耗超大连接（mMTC）：主要针对传输速率较低、时延容忍度高、成本敏感且待机时间超长的海量机器类通讯，是当下物联网的进化版本。连接密度每平方公里超 过 100 万，电池寿命超过 10 年。为今后大规模的物联网发展提供接入支持。
- 低时延高可靠（uRLLC）：主要针对特殊的应用场景，这些场景对网络的时延和可靠 性有着特殊的要求，如工业控制、车联网等。在 5G 的技术标准下，用户层面的时延要控制在 1ms 之内，这样才能满足特殊场景作业的需求。基于 5G 不同特性可衍生不同应用场景。
  5G 的特性促进了工业互联网的发展，借助大带宽实现 AR/VR 远程指导，低时延完成工业级设备控制，广覆盖提供大批量工业设备的接入

### 3.5G 核心网关键技术

- 核心网接入独立
  对于固定接入和各种各样的无线接入，核心网应该具有汇聚功能，从而保证接入无关。保证接入无关可以降低终端接入系统的复杂性和低效性，以及减少功能冗余。

- 分布式架构

分布式架构可以提高网络资源利用率，避免数据转发低效率、单点失效、RTT 时延长、流量超载等问题。分布式架构的引进主要用来克服传统 EPC 下流量路径低效率和单点失败的缺陷。通过将 UPF 放置在 IP 网络的边缘，5GC 可以提供高效的流量路径，最小化信号时延，为移动边缘计算提供更好的支持。在传统的异构网络架构下，流量会被汇聚到一个锚点中，而在未来的 5G 分布式架构下，流量会被更灵活地进行分布式处理，这会将吞吐量提高至当前的数千倍。

- 控制平面和用户平面完全分离

核心网络应该通过开放式接口将数据平面和用户平面完全分离，这样有利于双方各自的独立演进和按需部署。将两个平面完全解耦之后，数据转发采取 IP 模式，控制平面功能被放置在 AMF 及 SBA 设备中，用户平面功能被放置在 UPF 中。用户平面和控制平面之间采用开放接口来提供基本的可伸缩性和灵活性，有了开放式接口的支持，在此基础上利用虚拟化技术进行网络切片也是非常方便的。

- 轻量级的信令支持

对于 IoT(Internet of Things)等服务，核心网应该支持轻量级的信令传输，并且简化相关协议。在 LTE 中先建立承载通道再进行数据传输的这种基于连接的方式将不再适用于处理未来越来越多的服务场景。为了应对各种各样新出现的使用场景，5G 核心网的信令机制应该基于按需 NAS 的概念进行扩展。每当用户发起一个会话，就会自动根据用户需要使用的服务来产生一个合适的处理程序（合适的非接入层信令）。

### 4.主要业务流程

- 5G 终端接入实现数据转发能力主要分为控制面业务及用户面业务，5G 核心网设备参照下图进行规划，满足控制面及用户面的数据处理。

<div  align=center>
<img src="http://urcs.feinno.com:8088/file/get/img/30cdd2e8-a7d3-4a3c-9d40-c18ae33a739f">
</div>

- 5G 终端的控制面主要用于接入终端的注册、鉴权、加密协商、建立用户面通道等功能，5G 核心网控制面对外提供服务以 AMF 设备对外提供服务，转向内部接口，详细服务调用层次如下，通过如下设备组网实现控制面的服务能力的构建。

- 5G 终端的用户面主要用于接入终端的流量分发，设备下沉，5G 核心网用户面以 UPF 设备对外提供服务，转向 DN 网络，详细服务调用层次如下，通过如下设备组网实现用户面的服务能力的构建。

### 5.5gc-api

接口 api
https://github.com/jdegre/5GC_APIs.git

### 6.5G 核心网设备

5G 网络的建设需要建设安全可靠的 5G 核心网网络，用于提供低延迟、大带宽的的网络接入，建设 5G 核心网网络需要包含如下网络设备，完成 5G 终端的设备接入需具备主要设备如下：接入和移动管理功能（AMF），认证服务器功能（AUSF），网络存储库功能（NRF），控制策略功能（PCF），会话管理功能（SMF），统一数据管理（UDM），统一数据存储库（UDR），用户平面功能（UPF）。通过上述设备的建设实现 5G 核心网基础网络的搭建。

- AMF 设备

  - 5G 网络通道的打通需要 5G 终端与 5G 基站和 5G 核心网进行复杂的信令交互，而 AMF 设备是作为 5G 核心网与 5G 基站及 5G 终端信令交互及处理的单元，AMF 设备具备常规注册，周期性注册，会话管理，服务管理等功能。
  - AMF 设备对外提供 N1(NGAP)接口与基站进行通道建立与维护，通过建立 NGAP 通道保证 NAS 信令的传输，用于承载注册、鉴权、加密协商、会话通道的建立及恢复。
  - AMF 设备对内提供 Namf 接口，用于接受网络事件通知，调用 5G 核心网 SBI 接口实现鉴权及会话通道的建立。

- UPF 设备

  - 5G 网络通道的打通需要控制面与用户面结合实现网络流量的转发，而 UPF 设备用于提供网络流量转发功能。UPF 设备通过提供 N4 接口用于创建网络传输通道，在网络通道建立完成后，UPF 对 5G 基站侧提供 N3(GTP)接口，5G 终端与基站和 UPF 相连，通过 N3 接口把数据流量发送至 UPF，UPF 对流量数据进行转发实现用户终端的上网功能。
  - UPF 设备用户面提供 N3、N6 接口实现终端数据转发能力，主要进行 GTP 的封包与拆包功能。
  - UPF 设备控制面提供 N4 接口，通过 N4 接口实现 UPF 用户面通道的打通及用户面通道的管理。
  - UPF 设备具备下沉至网络边缘能力，通过 UPF 下沉至网络边缘实现网络能力的边缘化，为边缘计算提供强有力的支持。

- AUSF 设备
  - 5G 网络的鉴权相比 3/4G 网络提供双向动态加密功能，需要安全可靠的鉴权设备对接入终端进行鉴权。AUSF 设备对外提供 Nausf 接口用于设备的鉴权，通过调用 UDM 的 Nudm 接口进行鉴权数据的对接，完成 5G 终端接入的鉴权。
- SMF 设备
  - 5G 网络整体包含控制面及用户面，用户间进行终端鉴权完成后进行网络通道的打通需要 SMF 设备进行管理，SMF 设备提供会话管理功能，通过 SMF 进行终端 IP 的分配，UPF 地址的分发。
  - SMF 设备对内提供 Nsmf 接口，为 AMF、PCF 等服务提供网络控制能力，用于网络通道的维护。
  - SMF 设备提供 N4 接口的控制能力，在 5G 网络设备调用 Nsmf 接口后提供 Nsmf 接口至 N4 接口的转化，用于控制 UPF 设备。
- UDM 设备
  - 5G 网络中用户数据的存储也优为重要，UDM 设备通过提供 Nudm 接口实现用户数据的存储，如用户的加密数据，用户的配置数据，用户的号码映射等。
  - UDM 设备通过提供 Nudm 接口，为 SMF、AMF 等 5G 网络设备提供用户数据查询能力，并通过调用 UDR 设备的 Nudr 进行数据的存储。
- UDR 设备
  - 5G 网络中 UDM 设备提供用户数据服务，但是真实的数据存储需要保存至 UDR 设备中，通过 UDR 设备实现数据的统一管理能力。
  - UDR 设备对内提供 Nudr 接口，UDM 通过调用 UDR 设备的 Nudr 接口实现数据的存储，对外提供用户数据服务能力。
- PCF 设备

  - 5G 网络中需要提供基础网路能力进行策略控制，PCF 设备负责网络会话策略控制，提供 Npcf 接口，用于对接 5G 应用，为 5G 提供专有网络通道打通能力。
  - PCF 设备对外提供 Npcf 接口，对内调用 Nsmf 接口实现策略控制能力。

- NRF 设备
  - 5G 网络中需要提供网络单元的注册于发现，NRF 设备提供该功能。
  - NRF 设备对外提供 Nnrf 接口，实现网络单元的注册与发现。

### 3.5G 运行环境

- 5G 网络具备(增强移动宽带（eMBB）、海量机器通信 （mMTC）和超高可靠低时延通信（uRLLC）)等特性，5G 网路间数据传输采用光口传输。网络内传输速率不低于 10Gbit/s.

- 机房应针对核心网分配基础网络，设备间支持采用光口/电口传输，针对 AMF 和 UPF 设备提供提供对外网络出口能力，5G 基站的对接采用光口传输，且速率不低于 10Gbit/s，打通 AMF、UPF 与基站网络互通能力。

### 附录.设备列表

| 设备列表 | 说明                     |
| -------- | ------------------------ |
| AUSF     | 认证服务器功能           |
| AMF      | 接入和移动管理功能       |
| UDSF     | 非结构化数据存储功能     |
| NEF      | 网络开放功能             |
| NRF      | 网络存储库功能           |
| NSSF     | 网络切片选择功能         |
| PCF      | 控制策略功能             |
| SMF      | 会话管理功能             |
| UDM      | 统一数据管理             |
| UDR      | 统一数据存储库           |
| UPF      | 用户平面功能             |
| AF       | 应用功能                 |
| UE       | 用户设备                 |
| RAN      | 接入网络                 |
| 5G-EIR   | 5G 设备识别寄存器        |
| SEPP     | 安全边缘保护代理         |
| NWDAF    | 网络数据分析功能         |
| CHF      | 调整功能                 |
| SCP      | 服务通信代理             |
| SEPP     | 安全边缘保护代理         |
| TNGF     | 受信任的非 3GPP 网关功能 |
| N3IWF    | 非 3GPP 互通功能         |
| W-AGF    | 有线接入网关功能         |
