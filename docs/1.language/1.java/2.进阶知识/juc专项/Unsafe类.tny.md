<div id="page-content" class="rich_media_area_primary">

<div class="rich_media_area_primary_inner">

<div id="img-content" class="rich_media_wrp">

<h2 class="rich_media_title" id="activity-name">

死磕 java 魔法类之 Unsafe 解析

</h2>
<div id="meta_content" class="rich_media_meta_list">
<span id="copyright_logo" class="rich_media_meta icon_appmsg_tag appmsg_title_tag">原创</span>
<span class="rich_media_meta rich_media_meta_text">
<span id="js_author_name" class="" datarewardsn="" datatimestamp="" datacanreward="0">丹卿</span>
</span>

<span class="rich_media_meta rich_media_meta_nickname" id="profileBt">
<a href="javascript:void(0);" id="js_name">
彤哥读源码                      </a>
<div id="js_profile_qrcode" class="profile_container" style="display:none;">
<div class="profile_inner">
<strong class="profile_nickname">彤哥读源码</strong>
<img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

<p class="profile_meta">
<label class="profile_meta_label">微信号</label>
<span class="profile_meta_value"></span>
</p>

<p class="profile_meta">
<label class="profile_meta_label">功能介绍</label>
<span class="profile_meta_value">彤哥读源码，与彤哥一起畅游源码的海洋。</span>
</p>

</div>
<span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
<i class="profile_arrow arrow_out"></i>
<i class="profile_arrow arrow_in"></i>
</span>
</div>
</span>
<em id="publish_time" class="rich_media_meta rich_media_meta_text">2019-05-06</em>
</div>

<div class="rich_media_content " id="js_content" style="visibility: visible;">

<p style="box-sizing: border-box;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;"><span style="font-size: 12px;">🖕欢迎关注我的公众号“</span><span style="font-size: 14px;color: rgb(0, 82, 255);">彤哥读源码</span><span style="font-size: 12px;">”，查看更多源码系列文章, 与彤哥一起畅游源码的海洋。</span></p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（手机横屏看源码更方便）</p><hr style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1.5rem;border-style: dashed none none;border-top-color: rgb(165, 165, 165);border-right-width: initial;border-right-color: initial;border-left-width: initial;border-left-color: initial;border-bottom-width: initial;border-bottom-color: initial;height: 1px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;"><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">问题</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（1）Unsafe是什么？</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（2）Unsafe只有CAS的功能吗？</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（3）Unsafe为什么是不安全的？</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（4）怎么使用Unsafe？</p><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">简介</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">本章是java并发包专题的第一章，但是第一篇写的却不是java并发包中类，而是java中的魔法类sun.misc.Unsafe。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">Unsafe为我们提供了访问底层的机制，这种机制仅供java核心类库使用，而不应该被普通用户使用。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">但是，为了更好地了解java的生态体系，我们应该去学习它，去了解它，不求深入到底层的C/C++代码，但求能了解它的基本功能。</p><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">获取Unsafe的实例</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">查看Unsafe的源码我们会发现它提供了一个getUnsafe()的静态方法。</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">@CallerSensitive</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> getUnsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> var0 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Reflection</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getCallerClass</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">if</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(!</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">VM</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">isSystemDomainLoader</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">var0</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getClassLoader</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()))</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throw</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">SecurityException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"Unsafe"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">else</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">return</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> theUnsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">但是，如果直接调用这个方法会抛出一个SecurityException异常，这是因为Unsafe仅供java内部类使用，外部类不应该使用它。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">那么，我们就没有方法了吗？</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">当然不是，我们有反射啊！查看源码，我们发现它有一个属性叫theUnsafe，我们直接通过反射拿到它即可。</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">UnsafeTest</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> main</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">String</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">[]</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> args</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throws</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">NoSuchFieldException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IllegalAccessException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Field</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getDeclaredField</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"theUnsafe"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">setAccessible</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">true</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">get</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">null</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">使用Unsafe实例化一个类</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">假如我们有一个简单的类如下：</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">this</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">10</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">如果我们通过构造方法实例化这个类，age属性将会返回10。</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user1 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 打印10</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">如果我们调用Unsafe来实例化呢？</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user2 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">allocateInstance</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 打印0</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user2</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">age将返回0，因为&nbsp;<code class="" style="box-sizing: border-box;background: rgb(243, 241, 241);color: rgb(88, 88, 88);font-size: 16px;line-height: 18px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 0px !important;border-style: initial !important;border-color: initial !important;"><span class="" style="box-sizing: border-box;background-image: initial;background-position: initial;background-size: initial;background-repeat: initial;background-attachment: initial;background-origin: initial;background-clip: initial;display: inline-block;padding-right: 2px;padding-left: 2px;font-size: 14px;">Unsafe</span><span class="" style="box-sizing: border-box;background-image: initial;background-position: initial;background-size: initial;background-repeat: initial;background-attachment: initial;background-origin: initial;background-clip: initial;display: inline-block;padding-right: 2px;padding-left: 2px;font-size: 14px;">.</span><span class="" style="box-sizing: border-box;background-image: initial;background-position: initial;background-size: initial;background-repeat: initial;background-attachment: initial;background-origin: initial;background-clip: initial;display: inline-block;padding-right: 2px;padding-left: 2px;font-size: 14px;">allocateInstance</span><span class="" style="box-sizing: border-box;background-image: initial;background-position: initial;background-size: initial;background-repeat: initial;background-attachment: initial;background-origin: initial;background-clip: initial;display: inline-block;padding-right: 2px;padding-left: 2px;font-size: 14px;">()</span></code>只会给对象分配内存，并不会调用构造方法，所以这里只会返回int类型的默认值0。</p><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">修改私有字段的值</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">使用Unsafe的putXXX()方法，我们可以修改任意私有字段的值。</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">UnsafeTest</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> main</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">String</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">[]</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> args</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throws</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> <span style="color: rgb(61, 98, 245);white-space: inherit;font-family: inherit;">Exception</span></span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"><br></span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Field</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getDeclaredField</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"theUnsafe"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">setAccessible</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">true</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">get</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">null</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Field</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> age </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getClass</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">().</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getDeclaredField</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"age"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">putInt</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">objectFieldOffset</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">),</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">20</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 打印20</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getAge</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">());</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">this</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">10</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> getAge</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">return</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">一旦我们通过反射调用得到字段age，我们就可以使用Unsafe将其值更改为任何其他int值。（当然，这里也可以通过反射直接修改）</p><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">抛出checked异常</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">我们知道如果代码抛出了checked异常，要不就使用try...catch捕获它，要不就在方法签名上定义这个异常，但是，通过Unsafe我们可以抛出一个checked异常，同时却不用捕获或在方法签名上定义它。</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 使用正常方式抛出IOException需要定义在方法签名上往外抛</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> readFile</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throws</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IOException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throw</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IOException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 使用Unsafe抛出异常不需要定义在方法签名上往外抛</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> readFileUnsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throwException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IOException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">());</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">使用堆外内存</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">如果进程在运行过程中JVM上的内存不足了，会导致频繁的进行GC。理想情况下，我们可以考虑使用堆外内存，这是一块不受JVM管理的内存。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">使用Unsafe的allocateMemory()我们可以直接在堆外分配内存，这可能非常有用，但我们要记住，这个内存不受JVM管理，因此我们要调用freeMemory()方法手动释放它。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">假设我们要在堆外创建一个巨大的int数组，我们可以使用allocateMemory()方法来实现：</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">OffHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 一个int等于4个字节</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">final</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> INT </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">4</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> size</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> address</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">try</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Field</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getDeclaredField</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"theUnsafe"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">setAccessible</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">true</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            unsafe </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">get</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">null</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">catch</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">NoSuchFieldException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">printStackTrace</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">catch</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IllegalAccessException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">printStackTrace</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 构造方法，分配内存</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">OffHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> size</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">this</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">size </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> size</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 参数字节数</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        address </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">allocateMemory</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">size </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">*</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> INT</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 获取指定索引处的元素</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> get</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> i</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">return</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getInt</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">address </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">+</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> i </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">*</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> INT</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 设置指定索引处的元素</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> set</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> i</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> value</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">putInt</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">address </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">+</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> i </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">*</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> INT</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> value</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 元素个数</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> size</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">return</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> size</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 释放堆外内存</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> freeMemory</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">freeMemory</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">address</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">在构造方法中调用allocateMemory()分配内存，在使用完成后调用freeMemory()释放内存。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">使用方式如下：</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">OffHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> offHeapArray </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">OffHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">4</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">set</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">0</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">set</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">2</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">set</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">2</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">3</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">set</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">3</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">4</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">set</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">2</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">5</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 在索引2的位置重复放入元素</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> sum </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">0</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">for</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> i </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">0</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> i </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">&lt;</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">size</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> i</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">++)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    sum </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">+=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">get</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">i</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 打印12</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">sum</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">offHeapArray</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">freeMemory</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">最后，一定要记得调用freeMemory()将内存释放回操作系统。</p><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">CompareAndSwap操作</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">JUC下面大量使用了CAS操作，它们的底层是调用的Unsafe的CompareAndSwapXXX()方法。这种方式广泛运用于无锁算法，与java中标准的悲观锁机制相比，它可以利用CAS处理器指令提供极大的加速。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">比如，我们可以基于Unsafe的compareAndSwapInt()方法构建线程安全的计数器。</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Counter</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">volatile</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> count </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">0</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">long</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> offset</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">try</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Field</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getDeclaredField</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"theUnsafe"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">setAccessible</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">true</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            unsafe </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">get</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">null</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            offset </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">objectFieldOffset</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Counter</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getDeclaredField</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"count"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">));</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">catch</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">NoSuchFieldException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">printStackTrace</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">catch</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IllegalAccessException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">printStackTrace</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> increment</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> before </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> count</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 失败了就重试直到成功为止</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">while</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(!</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">compareAndSwapInt</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">this</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> offset</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> before</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> before </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">+</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">))</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            before </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> count</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> getCount</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">return</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> count</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">我们定义了一个volatile的字段count，以便对它的修改所有线程都可见，并在类加载的时候获取count在类中的偏移地址。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">在increment()方法中，我们通过调用Unsafe的compareAndSwapInt()方法来尝试更新之前获取到的count的值，如果它没有被其它线程更新过，则更新成功，否则不断重试直到成功为止。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">我们可以通过使用多个线程来测试我们的代码：</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Counter</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> counter </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Counter</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">ExecutorService</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> threadPool </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Executors</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">newFixedThreadPool</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">100</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 起100个线程，每个线程自增10000次</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IntStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">range</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">0</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">100</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">forEach</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">i</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">-&gt;</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">threadPool</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">submit</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(()-&gt;</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IntStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">range</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">0</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">10000</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">forEach</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">j</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">-&gt;</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">counter</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">increment</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">())));</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">threadPool</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">shutdown</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Thread</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">sleep</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">2000</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 打印1000000</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">counter</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getCount</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">());</span></code></span></span></p></li></ol></pre><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">park/unpark</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">JVM在上下文切换的时候使用了Unsafe中的两个非常牛逼的方法park()和unpark()。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">当一个线程正在等待某个操作时，JVM调用Unsafe的park()方法来阻塞此线程。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">当阻塞中的线程需要再次运行时，JVM调用Unsafe的unpark()方法来唤醒此线程。</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">我们之前在分析java中的集合时看到了大量的LockSupport.park()/unpark()，它们底层都是调用的Unsafe的这两个方法。</p><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">总结</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">使用Unsafe几乎可以操作一切：</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（1）实例化一个类；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（2）修改私有字段的值；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（3）抛出checked异常；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（4）使用堆外内存；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（5）CAS操作；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（6）阻塞/唤醒线程；</p><h2 style="box-sizing: border-box;margin-top: 1.5rem;margin-bottom: 1rem;color: rgb(245, 187, 6);line-height: 1.35;font-size: 22px;text-align: start;white-space: normal;font-family: Menlo, Monaco, &quot;Source Code Pro&quot;, Consolas, Inconsolata, &quot;Ubuntu Mono&quot;, &quot;DejaVu Sans Mono&quot;, &quot;Courier New&quot;, &quot;Droid Sans Mono&quot;, &quot;Hiragino Sans GB&quot;, 微软雅黑, monospace !important;">彩蛋</h2><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">论实例化一个类的方式？</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（1）通过构造方法实例化一个类；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（2）通过Class实例化一个类；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（3）通过反射实例化一个类；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（4）通过克隆实例化一个类；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（5）通过反序列化实例化一个类；</p><p style="box-sizing: border-box;margin-top: 15px;margin-bottom: 15px;color: rgb(80, 97, 109);font-family: Helvetica, Arial, sans-serif;font-size: 15px;text-align: start;white-space: normal;">（6）通过Unsafe实例化一个类；</p><pre class="" style="box-sizing: border-box;padding-top: 8px;padding-bottom: 6px;background: rgb(244, 251, 244);border-radius: 0px;overflow-y: auto;color: rgb(80, 97, 109);text-align: start;font-size: 10px;line-height: 12px;font-family: consolas, menlo, courier, monospace, &quot;Microsoft Yahei&quot;!important;border-width: 1px !important;border-style: solid !important;border-color: rgb(226, 226, 226) !important;"><ol class="list-paddingleft-2" style="list-style-type: none;"><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">InstantialTest</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">try</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Field</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getDeclaredField</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"theUnsafe"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">setAccessible</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">true</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            unsafe </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> f</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">get</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">null</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">catch</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">NoSuchFieldException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">printStackTrace</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">catch</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">IllegalAccessException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            e</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">printStackTrace</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">void</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> main</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">String</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">[]</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> args</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throws</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Exception</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 1. 构造方法</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user1 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 2. Class，里面实际也是反射</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user2 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">newInstance</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 3. 反射</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user3 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">getConstructor</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">().</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">newInstance</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 4. 克隆</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user4 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">clone</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 5. 反序列化</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user5 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unserialize</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 6. Unsafe</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user6 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unsafe</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">allocateInstance</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user2</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user3</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user4</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user5</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">System</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">out</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">println</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user6</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> unserialize</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throws</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Exception</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">ObjectOutputStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> oos </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">ObjectOutputStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">FileOutputStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"D://object.txt"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">));</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        oos</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">writeObject</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">user1</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">);</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        oos</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">close</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">ObjectInputStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> ois </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">ObjectInputStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">new</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">FileInputStream</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(41, 163, 41);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">"D://object.txt"</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">));</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(128, 153, 128);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">// 反序列化</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user5 </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">(</span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">)</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> ois</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">readObject</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        ois</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">close</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">return</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> user5</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">static</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">class</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">implements</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Cloneable</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">,</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Serializable</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">private</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">int</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> age</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">public</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">User</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">this</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">age </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">=</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">10</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">;</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><br></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(135, 113, 29);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">@Override</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">protected</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">Object</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> clone</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">()</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">throws</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(61, 98, 245);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">CloneNotSupportedException</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">{</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">            </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">return</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;"> </span><span class="" style="box-sizing: border-box;color: rgb(173, 43, 238);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">super</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">.</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">clone</span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">();</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">        </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">    </span><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li><li><p><span style="box-sizing: border-box;color: rgb(74, 74, 74);display: block;font-size: 14px !important;word-break: inherit !important;"><span style="box-sizing: border-box;display: block;word-break: inherit !important;"><code class="" style="box-sizing: border-box;margin-left: -20px;display: flex;overflow: initial;line-height: 12px;overflow-wrap: normal;border-width: 0px;border-style: initial;border-color: initial;font-size: 10px;font-family: inherit !important;white-space: pre !important;"><span class="" style="box-sizing: border-box;color: rgb(19, 21, 19);line-height: 20px;font-size: 13px !important;white-space: inherit !important;">}</span></code></span></span></p></li></ol></pre>
</div>

<script nonce="" type="text/javascript">
var first_sceen__time = (+new Date());

if ("" == 1 && document.getElementById('js_content')) {
document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
}


(function(){
if (navigator.userAgent.indexOf("WindowsWechat") != -1){
var link = document.createElement('link');
var head = document.getElementsByTagName('head')[0];
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg_new/winwx492bcc.css";
head.appendChild(link);
}
})();
</script>

<div id="js_sponsor_ad_area" style="display: none;"></div>

<div class="read-more__area" id="js_more_read_area" style="display:none;">

</div>

<div class="reward_area tc reward_area_primary" id="js_reward_area" style="display:none;">
<div class="reward-avatar" style="display: none;" id="js_reward_avatar">
<img src="" alt="" id="js_reward_author_head">
</div>

<div class="reward-author" style="display: none;" id="js_reward_author">丹卿</div>
<p class="reward_tips js_reward_wording">能吃🍗不？</p>
<p class="reward_button_wrp">
<span id="js_author_reward_qrcode" class="reward_pop_panel">
<img id="js_author_reward_qrcode_img" src="" alt="赞赏二维码">
<strong>微信扫一扫赞赏作者</strong>
</span>
<a class="reward_button weui-btn" id="js_reward_link" href="##"><span id="js_reward_link_text">赞赏</span></a>
</p>
<div id="js_reward_inner" class="reward_area_inner" style="display: none; width: 648px;">
<p class="weui-loadmore weui-loadmore_line reward_user_tips" id="js_reward_total_parent">
<span class="weui-loadmore__tips">
<a href="javascript:;" id="js_reward_total"></a>&nbsp;<span id="js_reward_total_text">人赞赏</span>
</span>
</p>

<div id="js_reward_list" class="reward_user_list"></div>
<div id="js_reward_pagination" class="simple_pagination" style="display: none;">
<button disabled="" class="btn_sp_prev js_reward_pagination_prev">上一页</button>
<span class="sp_page_num_area">
<a class="sp_page_current js_reward_pagination_curpage" href="javascript:;">1</a>/<span class="sp_page_num js_reward_pagination_totalpage">3</span>
</span>
<button class="btn_sp_next js_reward_pagination_next">下一页</button>
</div>
</div>
</div>
<div class="reward_qrcode_area reward_area tc" id="js_reward_qrcode" style="display:none;">
<p class="tips_global">长按二维码向我转账</p>
<p class="reward_tips">能吃🍗不？</p>
<span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" id="js_reward_qrcode_img"></span>
<p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
</div>
</div>

<ul id="js_hotspot_area" class="article_extend_area"></ul>

<div class="rich_media_tool" id="js_toobar3">
<div class="weui-flex">
<div class="weui-flex__item">

<a class="media_tool_meta meta_primary" id="js_view_source" href="##">阅读原文</a>

<div id="js_read_area3" class="media_tool_meta tips_global_primary meta_primary" style="display:none;">
<span id="readTxt">阅读</span>
<span id="readNum3"></span>
</div>
</div>

<span style="display:none;" class="media_tool_meta meta_extra meta_praise" id="like_old">
<i class="icon_praise_gray"></i><span class="praise_num" id="likeNum_old"></span>
</span>

<span style="visibility: hidden;" class="media_tool_meta meta_extra meta_like" id="like3">
<button class="like_btn" id="js_like_btn"> 
<span id="js_like_wording">在看</span><span class="like_num" id="likeNum3"></span>
</button>
</span>

</div>

</div>

<div class="like_comment_wrp" id="js_like_comment" style="display: none;">
<div class="like_comment_inner">
<div class="like_comment_hd" style="display:none" id="js_like_title"></div>
<div class="like_comment_bd">
<div class="like_comment_tips" id="js_comment_area">
<i class="weui-icon-success"></i><i class="icon-success-primary"></i>已同步到看一看<a href="javascript:;" class="like_comment_share_link" id="js_like_comment_share">写下你的想法</a>
</div>
<div class="like_comment_extra_info" id="js_like_educate" style="display: none">
<p class="like_comment_extra_tips">
<span id="js_friend_like_area" style="display: none"></span>
<span id="js_friend_like_word">前往“发现”-“看一看”浏览“朋友在看”</span>
</p>
<p class="like_comment_pic_wrp">
<img class="like_comment_pic" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_like_comment492329.png">
</p>
<button class="weui-btn weui-btn_primary" id="js_go_wow">前往看一看</button>
</div>
</div>
</div>
</div>
<div style="display:none;" id="wow_close_inform">
<div class="weui-mask"></div>
<div class="weui-dialog">
<div class="weui-dialog__hd"><strong class="weui-dialog__title">看一看入口已关闭</strong></div>
<div class="weui-dialog__bd">
在“设置”-“通用”-“发现页管理”打开“看一看”入口      </div>
<div class="weui-dialog__ft" id="wow_close_ack">
<a href="javascript:;" class="weui-dialog__btn weui-dialog__btn_primary">我知道了</a>
</div>
</div>
</div>

<div id="js_like_toast" style="display: none;">
<div class="weui-mask_transparent"></div>
<div class="weui-toast">
<i class="weui-icon-success-no-circle weui-icon_toast"></i>
<p class="weui-toast__content" id="js_toast_msg">已发送</p>
</div>
</div>

<div style="display: none;" id="js_comment_panel">
<div class="like_comment_primary_wrp editing" id="js_comment_wrp">
<div class="like_comment_primary_inner">
<div class="like_comment_primary_hd">
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_cancel" id="js_comment_cancel">
取消            <i class="weui-icon-close-thin"></i>
</button>
</div>
<h4 class="like_comment_primary_title"> 发送到看一看 </h4>
<div class="like_comment_primary_hd_side">
<button class="like_comment_primary_btn" id="js_comment_confirm" disabled="disabled">发送</button>
</div>
</div>
<div class="like_comment_primary_bd">
<div class="like_comment_media_title" id="js_panel_like_title">
死磕 java魔法类之Unsafe解析
</div>
<textarea class="like_comment_textarea weui-textarea" placeholder="写下你的想法..." id="js_comment_text"></textarea>
</div>
<span class="like_comment_msg" id="js_like_comment_msg" style="visibility: hidden;">最多200字，当前共<span id="js_like_current_cnt"></span>字</span>
</div>
</div>
<div class="like_comment_primary_mask" id="js_mask_2"></div>
</div>

<div id="js_loading" style="display: none;">
<div class="weui-mask_transparent"></div>
<div class="weui-toast">
<i class="weui-loading weui-icon_toast"></i>
<p class="weui-toast__content">发送中</p>
</div>
</div>

</div>
</div>
