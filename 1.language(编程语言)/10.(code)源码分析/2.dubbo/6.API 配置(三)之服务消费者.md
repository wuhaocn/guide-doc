# API é…ç½®ï¼ˆä¸‰ï¼‰ä¹‹æœåŠ¡æ¶ˆè´¹è€…

æœ¬æ–‡åŸºäº Dubbo 2.6.1 ç‰ˆæœ¬ï¼Œæœ›çŸ¥æ‚‰ã€‚
 
å‹æƒ…æç¤ºï¼Œã€**é…ç½®**ã€‘è¿™å—çš„å†…å®¹ï¼Œä¼šç›¸å¯¹æ¯”è¾ƒæ¯ç‡¥ã€‚æ‰€ä»¥ï¼Œå¦‚æœçœ‹åˆ°ä¸€äº›å¾ˆéš¾æ‡‚çš„åœ°æ–¹ï¼Œå»ºè®®å…ˆè·³è¿‡ã€‚

å¯¹äº Dubbo ï¼Œé‡ç‚¹æ˜¯è¦å»ç†è§£ï¼Œå¤šåè®®ã€RPCã€å®¹é”™ç­‰ç­‰æ¨¡å—ï¼Œè€Œä¸æ˜¯ã€**é…ç½®**ã€‘ã€‚

ğŸ˜ˆ ä¼°è®¡å¥½å¤šèƒ–å‹è¢«ã€**é…ç½®**ã€‘è¿™ç« åŠé€€äº†æŠŠï¼Ÿï¼Ÿï¼Ÿ

# 1. æ¦‚è¿°

æœ¬æ–‡æ¥ [ã€ŠAPI é…ç½®ï¼ˆäºŒï¼‰ä¹‹æœåŠ¡æä¾›è€…ã€‹](http://svip.iocoder.cn/Dubbo/configuration-api-2/) ï¼Œåˆ†äº«**æœåŠ¡æ¶ˆè´¹è€…**ç›¸å…³çš„é…ç½®ã€‚

![é…ç½®ç±»å…³ç³»](http://static2.iocoder.cn/images/Dubbo/2018_01_07/03.png)

* **çº¢æ¡†**éƒ¨åˆ†ï¼Œconsumer-side

è¿˜æ˜¯è€æ ·å­ï¼Œæˆ‘ä»¬å…ˆæ¥çœ‹ä¸€æ®µ [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” API é…ç½®ã€‹](http://dubbo.apache.org/zh-cn/docs/user/configuration/api.html) ï¼ŒæœåŠ¡æ¶ˆè´¹è€…çš„åˆå§‹åŒ–ä»£ç ï¼š
```
// å½“å‰åº”ç”¨é…ç½®
ApplicationConfig application = new ApplicationConfig();
application.setName("yyy");
// è¿æ¥æ³¨å†Œä¸­å¿ƒé…ç½®
RegistryConfig registry = new RegistryConfig();
registry.setAddress("10.20.130.230:9090");
registry.setUsername("aaa");
registry.setPassword("bbb");
// æ³¨æ„ï¼šReferenceConfigä¸ºé‡å¯¹è±¡ï¼Œå†…éƒ¨å°è£…äº†ä¸æ³¨å†Œä¸­å¿ƒçš„è¿æ¥ï¼Œä»¥åŠä¸æœåŠ¡æä¾›æ–¹çš„è¿æ¥
// å¼•ç”¨è¿œç¨‹æœåŠ¡
ReferenceConfig<XxxService> reference = new ReferenceConfig<XxxService>(); // æ­¤å®ä¾‹å¾ˆé‡ï¼Œå°è£…äº†ä¸æ³¨å†Œä¸­å¿ƒçš„è¿æ¥ä»¥åŠä¸æä¾›è€…çš„è¿æ¥ï¼Œè¯·è‡ªè¡Œç¼“å­˜ï¼Œå¦åˆ™å¯èƒ½é€ æˆå†…å­˜å’Œè¿æ¥æ³„æ¼
reference.setApplication(application);
reference.setRegistry(registry); // å¤šä¸ªæ³¨å†Œä¸­å¿ƒå¯ä»¥ç”¨setRegistries()
reference.setInterface(XxxService.class);
reference.setVersion("1.0.0");
// å’Œæœ¬åœ°beanä¸€æ ·ä½¿ç”¨xxxService
XxxService xxxService = reference.get(); // æ³¨æ„ï¼šæ­¤ä»£ç†å¯¹è±¡å†…éƒ¨å°è£…äº†æ‰€æœ‰é€šè®¯ç»†èŠ‚ï¼Œå¯¹è±¡è¾ƒé‡ï¼Œè¯·ç¼“å­˜å¤ç”¨
```

# 2. AbstractReferenceConfig

[
com.alibaba.dubbo.config.AbstractReferenceConfig
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractReferenceConfig.java) ï¼Œå®ç° AbstractInterfaceConfig ï¼ŒæŠ½è±¡å¼•ç”¨é…ç½®ç±»ã€‚

* å…·ä½“å±æ€§çš„è§£é‡Šï¼Œ**éœ€è¦å¯»æ‰¾**åœ¨ [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” dubbo:referenceã€‹](http://dubbo.apache.org/zh-cn/docs/user/references/xml/dubbo-reference.html) æˆ– [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” dubbo:consumerã€‹](http://dubbo.apache.org/zh-cn/docs/user/references/xml/dubbo-consumer.html) æ–‡æ¡£ã€‚

# 3. ConsumerConfig

[
com.alibaba.dubbo.config.ConsumerConfig
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ConsumerConfig.java) ï¼Œå®ç° AbstractReferenceConfig ï¼ŒæœåŠ¡æ¶ˆè´¹è€…ç¼ºçœå€¼é…ç½®ã€‚

* å…·ä½“å±æ€§çš„è§£é‡Šï¼Œå‚è§ [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” dubbo:consumerã€‹](http://dubbo.apache.org/zh-cn/docs/user/references/xml/dubbo-consumer.html) æ–‡æ¡£ã€‚

# 4. ReferenceConfig

[
com.alibaba.dubbo.config.ReferenceConfig
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ReferenceConfig.java) ï¼ŒæœåŠ¡æ¶ˆè´¹è€…å¼•ç”¨**æœåŠ¡é…ç½®ç±»**ã€‚

* å…·ä½“å±æ€§çš„è§£é‡Šï¼Œå‚è§ [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” dubbo:consumerã€‹](http://dubbo.apache.org/zh-cn/docs/user/references/xml/dubbo-consumer.html) æ–‡æ¡£ã€‚

ä¸‹é¢ï¼Œæˆ‘ä»¬è¿›å…¥**æ­£æˆ**ã€‚

åœ¨æ–‡åˆçš„ ReferenceConfig çš„åˆå§‹åŒ–ç¤ºä¾‹ä»£ç ä¸­ï¼Œæœ€åè°ƒç”¨çš„æ˜¯ [
ServiceConfig/#get()
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ReferenceConfig.java#L185-L195) æ–¹æ³•ã€‚ä»æ–¹æ³•çš„å‘½åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œè·å–**å¼•ç”¨æœåŠ¡**ã€‚è¯¥æ–¹æ³•ä¸»è¦åšäº†å¦‚ä¸‹å‡ ä»¶äº‹æƒ…ï¼š

1. **è¿›ä¸€æ­¥åˆå§‹åŒ–** ReferenceConfig å¯¹è±¡ã€‚
1. **æ ¡éªŒ** ReferenceConfig å¯¹è±¡çš„é…ç½®é¡¹ã€‚
1. ä½¿ç”¨ ReferenceConfig å¯¹è±¡ï¼Œ**ç”Ÿæˆ** Dubbo URL å¯¹è±¡**æ•°ç»„**ã€‚
1. ä½¿ç”¨ Dubbo URL å¯¹è±¡ï¼Œ**åº”ç”¨æœåŠ¡**ã€‚

ğŸ˜ˆ æœ¬æ–‡é‡ç‚¹åœ¨æœåŠ¡æä¾›è€…ç›¸å…³çš„é…ç½®ï¼Œå› æ­¤åªè§£æ **1+2+3** éƒ¨åˆ†( ä¸åŒ…æ‹¬ 4 )ã€‚ä»£ç å¦‚ä¸‹ï¼š
```
1: public synchronized T get(){
2: // å·²é”€æ¯ï¼Œä¸å¯è·å¾—
3: if (destroyed) {
4: throw new IllegalStateException("Already destroyed!");
5: }
6: // åˆå§‹åŒ–
7: if (ref == null) {
8: init();
9: }
10: return ref;
11: }
```

* ç¬¬ 2 è‡³ 5 è¡Œï¼šè‹¥å·²ç»é”€æ¯(

destroyed = true
)ï¼ŒæŠ›å‡ºå¼‚å¸¸ã€‚
* ç¬¬ 7 è‡³ 9 è¡Œï¼šè‹¥æœªåˆå§‹åŒ–ï¼Œè°ƒç”¨

/#init()
æ–¹æ³•ï¼Œè¿›è¡Œåˆå§‹åŒ–ã€‚
* ç¬¬ 10 è¡Œï¼šè¿”å›å¼•ç”¨æœåŠ¡ã€‚

[
/#init()
](http://svip.iocoder.cn/Dubbo/configuration-api-3/) æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹ï¼š
å‹æƒ…æç¤ºï¼Œè¯¥æ–¹æ³•å¹¶æœªæ‹†åˆ†æ›´å¤šçš„å°æ–¹æ³•ï¼Œæ‰€ä»¥è¶…çº§é•¿ï¼Œè¿‘ 200+ è¡Œã€‚
  ```
1: private void init(){
2: // å·²ç»åˆå§‹åŒ–ï¼Œç›´æ¥è¿”å›
3: if (initialized) {
4: return;
5: }
6: initialized = true;
7: // æ ¡éªŒæ¥å£åéç©º
8: if (interfaceName == null || interfaceName.length() == 0) {
9: throw new IllegalStateException("<dubbo:reference interface=\"\" /> interface not allow null!");
10: }
11: // æ‹¼æ¥å±æ€§é…ç½®ï¼ˆç¯å¢ƒå˜é‡ + properties å±æ€§ï¼‰åˆ° ConsumerConfig å¯¹è±¡
12: // get consumer's global configuration
13: checkDefault();
14: // æ‹¼æ¥å±æ€§é…ç½®ï¼ˆç¯å¢ƒå˜é‡ + properties å±æ€§ï¼‰åˆ° ReferenceConfig å¯¹è±¡
15: appendProperties(this);
16: // è‹¥æœªè®¾ç½® `generic` å±æ€§ï¼Œä½¿ç”¨ `ConsumerConfig.generic` å±æ€§ã€‚
17: if (getGeneric() == null && getConsumer() != null) {
18: setGeneric(getConsumer().getGeneric());
19: }
20: // æ³›åŒ–æ¥å£çš„å®ç°
21: if (ProtocolUtils.isGeneric(getGeneric())) {
22: interfaceClass = GenericService.class;
23: // æ™®é€šæ¥å£çš„å®ç°
24: } else {
25: try {
26: interfaceClass = Class.forName(interfaceName, true, Thread.currentThread().getContextClassLoader());
27: } catch (ClassNotFoundException e) {
28: throw new IllegalStateException(e.getMessage(), e);
29: }
30: // æ ¡éªŒæ¥å£å’Œæ–¹æ³•
31: checkInterfaceAndMethods(interfaceClass, methods);
32: }
33: // ç›´è¿æä¾›è€…ï¼Œå‚è§æ–‡æ¡£ã€Šç›´è¿æä¾›è€…ã€‹http://dubbo.apache.org/zh-cn/docs/user/demos/explicit-target.html
34: // ã€ç›´è¿æä¾›è€…ã€‘ç¬¬ä¸€ä¼˜å…ˆçº§ï¼Œé€šè¿‡ -D å‚æ•°æŒ‡å®š ï¼Œä¾‹å¦‚ java -Dcom.alibaba.xxx.XxxService=dubbo://localhost:20890
35: String resolve = System.getProperty(interfaceName);
36: String resolveFile = null;
37: // ã€ç›´è¿æä¾›è€…ã€‘ç¬¬äºŒä¼˜å…ˆçº§ï¼Œé€šè¿‡æ–‡ä»¶æ˜ å°„ï¼Œä¾‹å¦‚ com.alibaba.xxx.XxxService=dubbo://localhost:20890
38: if (resolve == null || resolve.length() == 0) {
39: // é»˜è®¤å…ˆåŠ è½½ï¼Œ`${user.home}/dubbo-resolve.properties` æ–‡ä»¶ ï¼Œæ— éœ€é…ç½®
40: resolveFile = System.getProperty("dubbo.resolve.file");
41: if (resolveFile == null || resolveFile.length() == 0) {
42: File userResolveFile = new File(new File(System.getProperty("user.home")), "dubbo-resolve.properties");
43: if (userResolveFile.exists()) {
44: resolveFile = userResolveFile.getAbsolutePath();
45: }
46: }
47: // å­˜åœ¨ resolveFile ï¼Œåˆ™è¿›è¡Œæ–‡ä»¶è¯»å–åŠ è½½ã€‚
48: if (resolveFile != null && resolveFile.length() > 0) {
49: Properties properties = new Properties();
50: FileInputStream fis = null;
51: try {
52: fis = new FileInputStream(new File(resolveFile));
53: properties.load(fis);
54: } catch (IOException e) {
55: throw new IllegalStateException("Unload " + resolveFile + ", cause: " + e.getMessage(), e);
56: } finally {
57: try {
58: if (null != fis) fis.close();
59: } catch (IOException e) {
60: logger.warn(e.getMessage(), e);
61: }
62: }
63: resolve = properties.getProperty(interfaceName);
64: }
65: }
66: // è®¾ç½®ç›´è¿æä¾›è€…çš„ url
67: if (resolve != null && resolve.length() > 0) {
68: url = resolve;
69: if (logger.isWarnEnabled()) {
70: if (resolveFile != null && resolveFile.length() > 0) {
71: logger.warn("Using default dubbo resolve file " + resolveFile + " replace " + interfaceName + "" + resolve + " to p2p invoke remote service.");
72: } else {
73: logger.warn("Using -D" + interfaceName + "=" + resolve + " to p2p invoke remote service.");
74: }
75: }
76: }
77: // ä» ConsumerConfig å¯¹è±¡ä¸­ï¼Œè¯»å– applicationã€moduleã€registriesã€monitor é…ç½®å¯¹è±¡ã€‚
78: if (consumer != null) {
79: if (application == null) {
80: application = consumer.getApplication();
81: }
82: if (module == null) {
83: module = consumer.getModule();
84: }
85: if (registries == null) {
86: registries = consumer.getRegistries();
87: }
88: if (monitor == null) {
89: monitor = consumer.getMonitor();
90: }
91: }
92: // ä» ModuleConfig å¯¹è±¡ä¸­ï¼Œè¯»å– registriesã€monitor é…ç½®å¯¹è±¡ã€‚
93: if (module != null) {
94: if (registries == null) {
95: registries = module.getRegistries();
96: }
97: if (monitor == null) {
98: monitor = module.getMonitor();
99: }
100: }
101: // ä» ApplicationConfig å¯¹è±¡ä¸­ï¼Œè¯»å– registriesã€monitor é…ç½®å¯¹è±¡ã€‚
102: if (application != null) {
103: if (registries == null) {
104: registries = application.getRegistries();
105: }
106: if (monitor == null) {
107: monitor = application.getMonitor();
108: }
109: }
110: // æ ¡éªŒ ApplicationConfig é…ç½®ã€‚
111: checkApplication();
112: // æ ¡éªŒ Stub å’Œ Mock ç›¸å…³çš„é…ç½®
113: checkStubAndMock(interfaceClass);
114: // å°† `side`ï¼Œ`dubbo`ï¼Œ`timestamp`ï¼Œ`pid` å‚æ•°ï¼Œæ·»åŠ åˆ° `map` é›†åˆä¸­ã€‚
115: Map<String, String> map = new HashMap<String, String>();
116: Map<Object, Object> attributes = new HashMap<Object, Object>();
117: map.put(Constants.SIDE_KEY, Constants.CONSUMER_SIDE);
118: map.put(Constants.DUBBO_VERSION_KEY, Version.getVersion());
119: map.put(Constants.TIMESTAMP_KEY, String.valueOf(System.currentTimeMillis()));
120: if (ConfigUtils.getPid() > 0) {
121: map.put(Constants.PID_KEY, String.valueOf(ConfigUtils.getPid()));
122: }
123: // methodsã€revisionã€interface
124: if (!isGeneric()) {
125: String revision = Version.getVersion(interfaceClass, version);
126: if (revision != null && revision.length() > 0) {
127: map.put("revision", revision);
128: }
129:
130: String[] methods = Wrapper.getWrapper(interfaceClass).getMethodNames(); // è·å¾—æ–¹æ³•æ•°ç»„
131: if (methods.length == 0) {
132: logger.warn("NO method found in service interface " + interfaceClass.getName());
133: map.put("methods", Constants.ANY_VALUE);
134: } else {
135: map.put("methods", StringUtils.join(new HashSet<String>(Arrays.asList(methods)), ","));
136: }
137: }
138: map.put(Constants.INTERFACE_KEY, interfaceName);
139: // å°†å„ç§é…ç½®å¯¹è±¡ï¼Œæ·»åŠ åˆ° `map` é›†åˆä¸­ã€‚
140: appendParameters(map, application);
141: appendParameters(map, module);
142: appendParameters(map, consumer, Constants.DEFAULT_KEY);
143: appendParameters(map, this);
144: // è·å¾—æœåŠ¡é”®ï¼Œä½œä¸ºå‰ç¼€
145: String prefix = StringUtils.getServiceKey(map);
146: // å°† MethodConfig å¯¹è±¡æ•°ç»„ï¼Œæ·»åŠ åˆ° `map` é›†åˆä¸­ã€‚
147: if (methods != null && !methods.isEmpty()) {
148: for (MethodConfig method : methods) {
149: // å°† MethodConfig å¯¹è±¡ï¼Œæ·»åŠ åˆ° `map` é›†åˆä¸­ã€‚
150: appendParameters(map, method, method.getName());
151: // å½“ é…ç½®äº† `MethodConfig.retry = false` æ—¶ï¼Œå¼ºåˆ¶ç¦ç”¨é‡è¯•
152: String retryKey = method.getName() + ".retry";
153: if (map.containsKey(retryKey)) {
154: String retryValue = map.remove(retryKey);
155: if ("false".equals(retryValue)) {
156: map.put(method.getName() + ".retries", "0");
157: }
158: }
159: // å°†å¸¦æœ‰ @Parameter(attribute = true) é…ç½®å¯¹è±¡çš„å±æ€§ï¼Œæ·»åŠ åˆ°å‚æ•°é›†åˆã€‚å‚è§ã€Šäº‹ä»¶é€šçŸ¥ã€‹http://dubbo.apache.org/zh-cn/docs/user/demos/events-notify.html
160: appendAttributes(attributes, method, prefix + "." + method.getName());
161: // æ£€æŸ¥å±æ€§é›†åˆä¸­çš„äº‹ä»¶é€šçŸ¥æ–¹æ³•æ˜¯å¦æ­£ç¡®ã€‚è‹¥æ­£ç¡®ï¼Œè¿›è¡Œè½¬æ¢ã€‚
162: checkAndConvertImplicitConfig(method, map, attributes);
163: }
164: }
165:
166: // ä»¥ç³»ç»Ÿç¯å¢ƒå˜é‡( DUBBO_IP_TO_REGISTRY ) ä½œä¸ºæœåŠ¡æ³¨å†Œåœ°å€ï¼Œå‚è§ https://github.com/dubbo/dubbo-docker-sample é¡¹ç›®ã€‚
167: String hostToRegistry = ConfigUtils.getSystemProperty(Constants.DUBBO_IP_TO_REGISTRY);
168: if (hostToRegistry == null || hostToRegistry.length() == 0) {
169: hostToRegistry = NetUtils.getLocalHost();
170: } else if (isInvalidLocalHost(hostToRegistry)) {
171: throw new IllegalArgumentException("Specified invalid registry ip from property:" + Constants.DUBBO_IP_TO_REGISTRY + ", value:" + hostToRegistry);
172: }
173: map.put(Constants.REGISTER_IP_KEY, hostToRegistry);
174:
175: // æ·»åŠ åˆ° StaticContext è¿›è¡Œç¼“å­˜
176: //attributes are stored by system context.
177: StaticContext.getSystemContext().putAll(attributes);
178:
179: // çœç•¥ã€å¼•ç”¨æœåŠ¡ã€‘
185: }
```

* ç¬¬ 2 è‡³ 6 è¡Œï¼šè‹¥å·²ç»åˆå§‹åŒ–(

initialized = true
) æ—¶ï¼Œç›´æ¥è¿”å›ã€‚å¦åˆ™ï¼Œæ ‡è®°å·²ç»åˆå§‹åŒ–ã€‚
* ç¬¬ 7 è‡³ 10 è¡Œï¼šæ ¡éªŒæ¥å£å [
interfaceName
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ReferenceConfig.java#L78) éç©ºã€‚
* ç¬¬ 13 è¡Œï¼šè°ƒç”¨ [
/#checkDefault()
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ReferenceConfig.java#L493-L502) æ–¹æ³•ï¼Œè¯»å–**å±æ€§é…ç½®**( ç¯å¢ƒå˜é‡ + properties å±æ€§ )åˆ° ConsumerConfig å¯¹è±¡ã€‚

* å…³äºâ€œ**å±æ€§é…ç½®**â€ ï¼Œåœ¨ [ã€Šç²¾å°½ Dubbo æºç è§£æ â€”â€” å±æ€§é…ç½®ã€‹](http://svip.iocoder.cn/Dubbo/configuration-properties/?self?self) è¯¦ç»†è§£æã€‚
* ğŸ™‚ ç›´æ¥ç‚¹å‡»æ–¹æ³•æŸ¥çœ‹ï¼Œè¾ƒä¸ºç®€å•ï¼Œå·²ç»æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
* ç¬¬ 15 è¡Œï¼šè°ƒç”¨ [
/#appendProperties(config)
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractConfig.java#L132-L212) æ–¹æ³•ï¼Œè¯»å–**å±æ€§é…ç½®**( ç¯å¢ƒå˜é‡ + properties å±æ€§ )åˆ° ReferenceConfig å¯¹è±¡ï¼ˆ**è‡ªå·±**ï¼‰
* ç¬¬ 16 è‡³ 19 è¡Œï¼šè‹¥æœªè®¾ç½® [
generic
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractReferenceConfig.java#L43) å±æ€§ï¼Œä½¿ç”¨ [
ConsumerConfig.generic
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractReferenceConfig.java#L43) å±æ€§ã€‚
* ç¬¬ 20 è‡³ 22 è¡Œï¼šæ³›åŒ–æ¥å£çš„å®ç°ã€‚

* [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” æ³›åŒ–å¼•ç”¨ã€‹](http://dubbo.apache.org/zh-cn/docs/user/demos/generic-reference.html)
* ç¬¬ 23 è‡³ 32 è¡Œï¼šæ™®é€šæ¥å£çš„å®ç°ã€‚

* ç¬¬ 60 è‡³ 64 è¡Œï¼šæ ¹æ® [
interfaceName
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ReferenceConfig.java#L78) ï¼Œè·å¾—å¯¹åº”çš„**æ¥å£ç±»**ï¼Œå¹¶èµ‹å€¼ç»™ [
interfaceClass
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ReferenceConfig.java#L79)ã€‚
* ç¬¬ 31 è¡Œï¼šè°ƒç”¨ [
/#checkInterfaceAndMethods(interfaceClass, methods)
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractInterfaceConfig.java#L280-L317) æ–¹æ³•ï¼Œæ£€æŸ¥æ¥å£å’Œæ–¹æ³•ã€‚

* ğŸ™‚ ç›´æ¥ç‚¹å‡»æ–¹æ³•æŸ¥çœ‹ï¼Œè¾ƒä¸ºç®€å•ï¼Œå·²ç»æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
* ç¬¬ 33 è‡³ 76 è¡Œï¼šç›´è¿æä¾›è€…ã€‚

* [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” ç›´è¿æä¾›è€…ã€‹](http://dubbo.apache.org/zh-cn/docs/user/demos/explicit-target.html)
* ğŸ™‚ ä¸­é—´æœ‰ä¸€äº›é€»è¾‘å¤„ç†ï¼Œèƒ–å‹çœ‹ä¸‹ä»£ç çš„æ³¨é‡Šã€‚ç»“åˆæ–‡æ¡£ã€‚
* ç¬¬ 77 è‡³ 109 è¡Œï¼šä» ConsumerConfigã€ModuleConfigã€ApplicationConfig é…ç½®å¯¹è±¡ï¼Œå¤åˆ¶

application

module

registries

monitor
ç»™ ReferenceConfig ( **è‡ªå·±** )ã€‚
* ç¬¬ 111 è¡Œï¼šè°ƒç”¨ [
/#checkApplication()
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractInterfaceConfig.java#L156-L187) æ–¹æ³•ï¼Œæ ¡éªŒ ApplicationConfig é…ç½®ã€‚

* ğŸ™‚ ç›´æ¥ç‚¹å‡»æ–¹æ³•æŸ¥çœ‹ï¼Œè¾ƒä¸ºç®€å•ï¼Œå·²ç»æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
* ç¬¬ 113 è¡Œï¼šè°ƒç”¨ [
/#checkStubAndMock(interfaceClass)
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractInterfaceConfig.java#L319-L368) æ–¹æ³•ï¼Œæ ¡éªŒ Stub å’Œ Mock ç›¸å…³çš„é…ç½®ã€‚
* **ç¬¬ 115 è¡Œï¼šåˆ›å»ºå‚æ•°é›†åˆ

map
ï¼Œç”¨äºä¸‹é¢åˆ›å»º Dubbo URL çš„ [
parameters
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-common/src/main/java/com/alibaba/dubbo/common/URL.java#L109) å±æ€§**ã€‚
* ç¬¬ 116 è‡³ 122 è¡Œï¼šå°†

side

dubbo

timestamp

timestamp

pid
æ·»åŠ åˆ°

map
ä¸­ã€‚
* ç¬¬ 123 è‡³ 137 è¡Œï¼šå°†

interface

methods

revision
åˆ°

map
ä¸­ã€‚
* ç¬¬ 139 è‡³ 143 è¡Œï¼šè°ƒç”¨

/#appendParameters(map, config)
æ–¹æ³•ï¼Œå°†å„ç§é…ç½®å¯¹è±¡æ·»åŠ åˆ°

map
ä¸­ã€‚

* ğŸ™‚

/#appendParameters(map, config)
æ–¹æ³•ï¼Œåœ¨ [ã€ŠAPI é…ç½®ï¼ˆä¸€ï¼‰ä¹‹åº”ç”¨ã€‹](http://svip.iocoder.cn/Dubbo/configuration-api-1/?self) æœ‰è¯¦ç»†è§£æã€‚
* ç¬¬ 146 è‡³ 164 è¡Œï¼šè°ƒç”¨ MethodConfig å¯¹è±¡**æ•°ç»„**ï¼Œæ·»åŠ åˆ°

map
ä¸­ã€‚

* ç›®çš„æ˜¯å°†**æ¯ä¸ª** MethodConfig å’Œå…¶å¯¹åº”çš„ ArgumentConfig å¯¹è±¡æ•°ç»„ï¼Œæ·»åŠ åˆ°

map
ä¸­ã€‚
* ç¬¬ 160 è¡Œï¼šè°ƒç”¨ [
/#appendAttributes(parameters, config, prefix)
](https://github.com/YunaiV/dubbo/blob/9d38b6f9f95798755141d6140e311e8fd51fecc1/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/AbstractConfig.java#L326-L363) æ–¹æ³•ï¼Œå°†

@Parameter(attribute = true)
é…ç½®å¯¹è±¡çš„å±æ€§ï¼Œæ·»åŠ åˆ°å‚æ•°é›†åˆã€‚åœ¨ [ã€ŠAPI é…ç½®ï¼ˆä¸€ï¼‰ä¹‹åº”ç”¨ã€‹](http://svip.iocoder.cn/Dubbo/configuration-api-1/?self) æœ‰è¯¦ç»†è§£æã€‚

* [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” äº‹ä»¶é€šçŸ¥ã€‹](http://dubbo.apache.org/zh-cn/docs/user/demos/events-notify.html)
* ç¬¬ 162 è¡Œï¼šè°ƒç”¨ [
/#checkAndConvertImplicitConfig(method, map, attributes)
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-config/dubbo-config-api/src/main/java/com/alibaba/dubbo/config/ReferenceConfig.java#L133-L167) æ–¹æ³•ï¼Œæ£€æŸ¥å±æ€§é›†åˆä¸­çš„äº‹ä»¶é€šçŸ¥æ–¹æ³•æ˜¯å¦æ­£ç¡®ã€‚è‹¥æ­£ç¡®ï¼Œè¿›è¡Œè½¬æ¢ã€‚

* ğŸ™‚ ç›´æ¥ç‚¹å‡»æ–¹æ³•æŸ¥çœ‹ï¼Œè¾ƒä¸ºç®€å•ï¼Œå·²ç»æ·»åŠ è¯¦ç»†æ³¨é‡Šã€‚
* ç¬¬ 166 è‡³ 173 è¡Œï¼šä»¥ç³»ç»Ÿæ¢å°†å˜é‡ ( DUBBO_IP_TO_REGISTRY ) ä½œä¸ºæœåŠ¡æ³¨å†Œåœ°å€ï¼Œå‚è§ [dubbo-docker-sample](https://github.com/dubbo/dubbo-docker-sample) é¡¹ç›®ã€‚
* ç¬¬ 177 è¡Œï¼šæ·»åŠ åˆ° [
com.alibaba.dubbo.rpc.StaticContext
](https://github.com/YunaiV/dubbo/blob/d3c3975f320c78452f96098b04441fed4c00ab70/dubbo-rpc/dubbo-rpc-api/src/main/java/com/alibaba/dubbo/rpc/StaticContext.java) è¿›è¡Œç¼“å­˜ã€‚

* ç›®çš„æ˜¯ [ã€ŠDubbo ç”¨æˆ·æŒ‡å— â€”â€” äº‹ä»¶é€šçŸ¥ã€‹](http://dubbo.apache.org/zh-cn/docs/user/demos/events-notify.html) ã€‚
* ç¬¬ 179 è¡Œï¼š**çœç•¥**ã€æœåŠ¡å¼•ç”¨ã€‘é€»è¾‘ã€‚