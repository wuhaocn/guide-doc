# Netty ç®€ä»‹ï¼ˆä¸€ï¼‰ä¹‹é¡¹ç›®ç»“æ„

# 1. æ¦‚è¿°

æœ¬æ–‡ä¸»è¦åˆ†äº« **Netty çš„é¡¹ç›®ç»“æ„**ã€‚
å¸Œæœ›é€šè¿‡æœ¬æ–‡èƒ½è®©èƒ–å‹å¯¹ Netty çš„æ•´ä½“é¡¹ç›®æœ‰ä¸ªç®€å•çš„äº†è§£ã€‚

åœ¨æ‹‰å– Netty é¡¹ç›®åï¼Œæˆ‘ä»¬ä¼šå‘ç°æ‹†åˆ†äº†**å¥½å¤š** Maven é¡¹ç›®ã€‚æ˜¯ä¸æ˜¯å†…å¿ƒä¸€ç´§ï¼Œäº§ç”Ÿäº†ææƒ§æ„Ÿï¼Ÿä¸è¦æ–¹ï¼Œæˆ‘ä»¬å°±æ˜¯ç»§ç»­æ€¼ã€‚

![é¡¹ç›®ç»“æ„](http://static2.iocoder.cn/images/Netty/2018_03_01/01.png) é¡¹ç›®ç»“æ„

# 2. ä»£ç ç»Ÿè®¡

è¿™é‡Œå…ˆåˆ†äº«ä¸€ä¸ªå°æŠ€å·§ã€‚ç¬”è€…åœ¨å¼€å§‹æºç å­¦ä¹ æ—¶ï¼Œä¼šé¦–å…ˆäº†è§£é¡¹ç›®çš„ä»£ç é‡ã€‚

**ç¬¬ä¸€ç§æ–¹å¼**ï¼Œä½¿ç”¨ [IDEA Statistic](https://plugins.jetbrains.com/plugin/4509-statistic) æ’ä»¶ï¼Œç»Ÿè®¡æ•´ä½“ä»£ç é‡ã€‚

![Statistic ç»Ÿè®¡ä»£ç é‡](http://static2.iocoder.cn/images/Netty/2018_03_01/02.png) Statistic ç»Ÿè®¡ä»£ç é‡

æˆ‘ä»¬å¯ä»¥ç²—ç•¥çš„çœ‹åˆ°ï¼Œæ€»çš„ä»£ç é‡åœ¨ 251365 è¡Œã€‚è¿™å…¶ä¸­è¿˜åŒ…æ‹¬å•å…ƒæµ‹è¯•ï¼Œç¤ºä¾‹ç­‰ç­‰ä»£ç ã€‚
æ‰€ä»¥ï¼Œä¸æ…Œã€‚

**ç¬¬äºŒç§æ–¹å¼**ï¼Œä½¿ç”¨ [Shell è„šæœ¬å‘½ä»¤é€ä¸ª Maven æ¨¡å—ç»Ÿè®¡](http://blog.csdn.net/yhhwatl/article/details/52623879) ã€‚

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç¬”è€…ä½¿ç”¨find . -name "/*.java"|xargs cat|grep -v -e ^$ -e ^\s/*\/\/./*$|wc -lã€‚
è¿™ä¸ªå‘½ä»¤åªè¿‡æ»¤äº†**éƒ¨åˆ†æ³¨é‡Š**ï¼Œæ‰€ä»¥ç›¸æ¯” [IDEA Statistic](https://plugins.jetbrains.com/plugin/4509-statistic) ä¼š**åå¤š**ã€‚

å½“ç„¶ï¼Œè€ƒè™‘åˆ°å‡†ç¡®æ€§ï¼Œèƒ–å‹éœ€è¦æ‰‹åŠ¨cdåˆ°æ¯ä¸ª Maven é¡¹ç›®çš„src/main/javaç›®å½•ä¸‹ï¼Œä»¥è¾¾åˆ°æ’é™¤å•å…ƒæµ‹è¯•çš„ä»£ç é‡ã€‚

![Shell è„šæœ¬ç»Ÿè®¡ä»£ç é‡](http://static2.iocoder.cn/images/Netty/2018_03_01/03.png) Shell è„šæœ¬ç»Ÿè®¡ä»£ç é‡

* ğŸ˜ˆ å·æ‡’äº†ä¸‹ï¼Œæš‚æ—¶åªç»Ÿè®¡**æ ¸å¿ƒ**æ¨¡å—ï¼Œæœªç»Ÿè®¡**æ‹“å±•**æ¨¡å—ã€‚

# 3. æ¶æ„å›¾

åœ¨çœ‹å…·ä½“æ¯ä¸ª Netty çš„ Maven é¡¹ç›®ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥çœ‹çœ‹ Netty çš„æ•´ä½“æ¶æ„å›¾ã€‚

![æ¶æ„å›¾](http://static2.iocoder.cn/images/Netty/2018_03_01/04.png) æ¶æ„å›¾

* **Core** ï¼šæ ¸å¿ƒéƒ¨åˆ†ï¼Œæ˜¯åº•å±‚çš„ç½‘ç»œé€šç”¨æŠ½è±¡å’Œéƒ¨åˆ†å®ç°ã€‚

* Extensible Event Model ï¼šå¯æ‹“å±•çš„äº‹ä»¶æ¨¡å‹ã€‚Netty æ˜¯åŸºäºäº‹ä»¶æ¨¡å‹çš„ç½‘ç»œåº”ç”¨æ¡†æ¶ã€‚
* Universal Communication API ï¼šé€šç”¨çš„é€šä¿¡ API å±‚ã€‚Netty å®šä¹‰äº†ä¸€å¥—æŠ½è±¡çš„é€šç”¨é€šä¿¡å±‚çš„ API ã€‚
* Zero-Copy-Capable Rich Byte Buffer ï¼šæ”¯æŒé›¶æ‹·è´ç‰¹æ€§çš„ Byte Buffer å®ç°ã€‚
* **Transport Services** ï¼šä¼ è¾“( é€šä¿¡ )æœåŠ¡ï¼Œå…·ä½“çš„ç½‘ç»œä¼ è¾“çš„å®šä¹‰ä¸å®ç°ã€‚

* Socket & Datagram ï¼šTCP å’Œ UDP çš„ä¼ è¾“å®ç°ã€‚
* HTTP Tunnel ï¼šHTTP é€šé“çš„ä¼ è¾“å®ç°ã€‚
* In-VM Piple ï¼šJVM å†…éƒ¨çš„ä¼ è¾“å®ç°ã€‚ğŸ˜ˆ ç†è§£èµ·æ¥æœ‰ç‚¹æ€ªï¼Œåç»­çœ‹å…·ä½“ä»£ç ï¼Œä¼šæ˜“æ‡‚ã€‚
* **Protocol Support** ï¼šåè®®æ”¯æŒã€‚Netty å¯¹äºä¸€äº›é€šç”¨åè®®çš„ç¼–è§£ç å®ç°ã€‚ä¾‹å¦‚ï¼šHTTPã€Redisã€DNS ç­‰ç­‰ã€‚

# 4. é¡¹ç›®ä¾èµ–å›¾

Netty çš„ Maven é¡¹ç›®ä¹‹é—´**ä¸»è¦ä¾èµ–**å¦‚ä¸‹å›¾ï¼š

![ä¾èµ–å›¾](http://static2.iocoder.cn/images/Netty/2018_03_01/07.png) ä¾èµ–å›¾

* æœ¬å›¾çœç•¥**éä¸»è¦ä¾èµ–**ã€‚ä¾‹å¦‚ï¼Œhandler-proxyå¯¹codecæœ‰ä¾èµ–ï¼Œä½†æ˜¯å¹¶æœªç”»å‡ºã€‚
* æœ¬å›¾çœç•¥**éä¸»è¦çš„é¡¹ç›®**ã€‚ä¾‹å¦‚ï¼Œresolverã€testsuiteã€exampleç­‰ç­‰ã€‚ä¸‹é¢ï¼Œæˆ‘ä»¬æ¥è¯¦ç»†ä»‹ç»æ¯ä¸ªé¡¹ç›®ã€‚

# 5. common

commoné¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ˜¯ä¸€ä¸ªé€šç”¨çš„å·¥å…·ç±»é¡¹ç›®ï¼Œå‡ ä¹è¢«æ‰€æœ‰çš„å…¶å®ƒé¡¹ç›®ä¾èµ–ä½¿ç”¨ï¼Œå®ƒæä¾›äº†ä¸€äº›æ•°æ®ç±»å‹å¤„ç†å·¥å…·ç±»ï¼Œå¹¶å‘ç¼–ç¨‹ä»¥åŠå¤šçº¿ç¨‹çš„æ‰©å±•ï¼Œè®¡æ•°å™¨ç­‰ç­‰é€šç”¨çš„å·¥å…·ç±»ã€‚

![common é¡¹ç›®](http://static2.iocoder.cn/images/Netty/2018_03_01/05.png) common é¡¹ç›®

# 6. buffer

è¯¥é¡¹ç›®å®ç°äº† Netty æ¶æ„å›¾ä¸­çš„ Zero-Copy-Capable Rich Byte Buffer ã€‚

bufferé¡¹ç›®ï¼Œè¯¥é¡¹ç›®ä¸‹æ˜¯ Netty è‡ªè¡Œå®ç°çš„ä¸€ä¸ª Byte Buffer å­—èŠ‚ç¼“å†²åŒºã€‚è¯¥åŒ…çš„å®ç°ç›¸å¯¹äº JDK è‡ªå¸¦çš„ ByteBuffer æœ‰å¾ˆå¤š**ä¼˜ç‚¹**ï¼šæ— è®ºæ˜¯ API çš„åŠŸèƒ½ï¼Œä½¿ç”¨ä½“éªŒï¼Œæ€§èƒ½éƒ½è¦æ›´åŠ ä¼˜ç§€ã€‚å®ƒæä¾›äº†**ä¸€ç³»åˆ—( å¤šç§ )**çš„æŠ½è±¡å®šä¹‰ä»¥åŠå®ç°ï¼Œä»¥æ»¡è¶³ä¸åŒåœºæ™¯ä¸‹çš„éœ€è¦ã€‚

![buffer é¡¹ç›®](http://static2.iocoder.cn/images/Netty/2018_03_01/06.png) buffer é¡¹ç›®

# 7. transport

è¯¥é¡¹æ˜¯æ ¸å¿ƒé¡¹ç›®ï¼Œå®ç°äº† Netty æ¶æ„å›¾ä¸­ Transport Servicesã€Universal Communication API å’Œ Extensible Event Model ç­‰å¤šéƒ¨åˆ†å†…å®¹ã€‚

transporté¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ˜¯ç½‘ç»œä¼ è¾“é€šé“çš„æŠ½è±¡å’Œå®ç°ã€‚å®ƒå®šä¹‰é€šä¿¡çš„ç»Ÿä¸€é€šä¿¡ API ï¼Œç»Ÿä¸€äº† JDK çš„ OIOã€NIO ( ä¸åŒ…æ‹¬ AIO )ç­‰å¤šç§ç¼–ç¨‹æ¥å£ã€‚

![transport é¡¹ç›®](http://static2.iocoder.cn/images/Netty/2018_03_01/08.png) transport é¡¹ç›®

å¦å¤–ï¼Œå®ƒæä¾›äº†å¤šä¸ªå­é¡¹ç›®ï¼Œå®ç°ä¸åŒçš„ä¼ è¾“ç±»å‹ã€‚
ä¾‹å¦‚ï¼š
transport-native-epollã€transport-native-kqueueã€transport-rxtxã€transport-udtã€transport-sctpç­‰ç­‰ã€‚

# 8. codec

è¯¥é¡¹ç›®å®ç°äº†Netty æ¶æ„å›¾ä¸­çš„ Protocol Support ã€‚

codecé¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ˜¯åè®®ç¼–è§£ç çš„æŠ½è±¡ä¸**éƒ¨åˆ†**å®ç°ï¼šJSONã€Google Protocolã€Base64ã€XML ç­‰ç­‰ã€‚

![codec é¡¹ç›®](http://static2.iocoder.cn/images/Netty/2018_03_01/09.png) codec é¡¹ç›®

å¦å¤–ï¼Œå®ƒæä¾›äº†å¤šä¸ªå­é¡¹ç›®ï¼Œå®ç°ä¸åŒåè®®çš„ç¼–è§£ç ã€‚ä¾‹å¦‚ï¼š
codec-dnsã€codec-haproxyã€codec-httpã€codec-http2ã€codec-mqttã€
codec-redisã€codec-memcachedã€codec-smtpã€codec-socksã€
codec-stompã€codec-xmlç­‰ç­‰ã€‚

# 9. handler

handleré¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ˜¯æä¾›**å†…ç½®çš„**è¿æ¥é€šé“å¤„ç†å™¨( ChannelHandler )å®ç°ç±»ã€‚ä¾‹å¦‚ï¼šSSL å¤„ç†å™¨ã€æ—¥å¿—å¤„ç†å™¨ç­‰ç­‰ã€‚

![handler é¡¹ç›®](http://static2.iocoder.cn/images/Netty/2018_03_01/10.png) handleré¡¹ç›®

å¦å¤–ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªå­é¡¹ç›®handler-proxyï¼Œå®ç°å¯¹ HTTPã€Socks 4ã€Socks 5 çš„ä»£ç†è½¬å‘ã€‚

# 10. example

exampleé¡¹ç›®ï¼Œè¯¥é¡¹ç›®æ˜¯æä¾›å„ç§ Netty ä½¿ç”¨ç¤ºä¾‹ï¼Œè‰¯å¿ƒå¼€æºé¡¹ç›®ã€‚

![example é¡¹ç›®](http://static2.iocoder.cn/images/Netty/2018_03_01/11.png) example é¡¹ç›®

# 11. å…¶å®ƒé¡¹ç›®

Netty ä¸­è¿˜æœ‰å…¶å®ƒé¡¹ç›®ï¼Œè€ƒè™‘åˆ°ä¸æ˜¯æœ¬ç³»åˆ—çš„é‡ç‚¹ï¼Œå°±æš‚æ—¶è¿›è¡Œçœç•¥ã€‚

* all
ï¼šAll In One çš„pomå£°æ˜ã€‚
* bomï¼šNetty Bill Of Materials çš„ç¼©å†™ï¼Œä¸äº†è§£çš„èƒ–å‹ï¼Œå¯ä»¥çœ‹çœ‹ [ã€ŠMaven ä¸Spring BOM( Bill Of Materials )ç®€åŒ– Spring ç‰ˆæœ¬æ§åˆ¶ã€‹](https://blog.csdn.net/fanxiaobin577328725/article/details/66974896) ã€‚
* microbenchï¼šå¾®åŸºå‡†æµ‹è¯•ã€‚
* resolverï¼šç»ˆç«¯( Endpoint ) çš„åœ°å€è§£æå™¨ã€‚
* resolver-dns
* tarballï¼šAll In One æ‰“åŒ…å·¥å…·ã€‚
* testsuiteï¼šæµ‹è¯•é›†ã€‚æµ‹è¯•é›†( TestSuite ) ï¼šæµ‹è¯•é›†æ˜¯æŠŠå¤šä¸ªç›¸å…³æµ‹è¯•å½’å…¥ä¸€ä¸ªç»„çš„è¡¨è¾¾æ–¹å¼ã€‚åœ¨ Junit ä¸­ï¼Œå¦‚æœæˆ‘ä»¬æ²¡æœ‰æ˜ç¡®çš„å®šä¹‰ä¸€ä¸ªæµ‹è¯•é›†ï¼Œé‚£ä¹ˆ Juint ä¼šè‡ªåŠ¨çš„æä¾›ä¸€ä¸ªæµ‹è¯•é›†ã€‚ä¸€ä¸ªæµ‹è¯•é›†ä¸€èˆ¬å°†åŒä¸€ä¸ªåŒ…çš„æµ‹è¯•ç±»å½’å…¥ä¸€ç»„ã€‚
* testsuite-autobahhn
* testsuite-http2
* testsuite-osgi

# å‚è€ƒ

æœ¬æ–‡åŸºäºæ¨æ­¦å…µå¤§ä½¬çš„ [ã€ŠNetty æºç åˆ†æç³»åˆ— â€”â€” æ¦‚è¿°ã€‹](https://my.oschina.net/ywbrj042/blog/856596) è¿›è¡Œä¿®æ”¹ã€‚