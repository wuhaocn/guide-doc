## 1.简介

### 背景：
       
    1.资源的不能有效利用
    2.空闲资源不能利益化
      
### 云&AWS定义：
    
    1.按需使用
    2.可编程资源
    3.动态能力
  
### 优势（云计算）：
    
    1.将资本支出变成可变支出
    2.规模效益
    3.停止猜测容量
    4.提高速度和敏捷性
    5.专注于重要工作
    6.数分钟实现全球化部署
    总结：
    1.整体来说适合于互联网应用
    2.不太适合运营商、政府类【只有公有云】
       
### 架构：架构完善的框架（WAF）
    五大支柱：
        1.安全性【公有云】【合规性】
            身份机制
            实现可追踪性
            在所有层确保安全性
            风险评估与缓解策略
        2.可靠性
            动态获取计算资源满足需求
            迅速从基础设施或者服务故障恢复
            缓解中断
            //TODO 
        3.成本优化
            衡量效率
            减少成本：硬件、数据中间件运维成本（人员）
            考虑托管
        4.性能效率【资源利用率】
            选择有效的资源
            普及先进技术
            了解技术
        5.卓越运维
            自动化工具：部署
            运维简便性

   
## 2.基础设施
### 区域选择
        1.监管合规性
        2.用户群体区域
        3.成本
 
### AWS数据中心
    概要
        1.所有数据中心为活跃状态
        2.数据存储分化【多个数据中心】
    
    AWS可用区
        一个多个数据中心
        故障隔离
        物理距离（100公里以内）：延迟考虑
        实现架构：
            同城双活
        
    AWS区域
        每个AWS区域由两个或多个可用区组成【大阪例外】
         AWS全球21区域【增加速度】
        实现跨区域复制
        使用主干网络通信
    3个大分区
        北京、宁夏
        美国
        欧洲？
    
    分区私有化：？
         
### AWS边缘站点：

    概述：   
        边缘站点位于北美、欧洲、亚洲、澳大利亚和南美洲,
        并支持Amazon Route 53 和Amazon CloudFront 等AWS 服务。
    模块：
        防火墙
        cdn(Amazon CloudFront)
        dns(Amazon Route 53)
     
## 3.组件服务
  核心服务的faq看一下
### 存储：

    Amazon S3
        特性：  
            1.对象级存储
                存储和分发静态web内容媒体
            2.提供持久性
                (99.999999999%)可靠性
            3.事件触发器：
                上传完成，触发任务
            3种策略管理：
               ?
               acl：所有
               buket：存储桶
               bcl：
        详细：
            功能性：
                文件服务器：
                    单个文件不超过5T，数量无限制
                    html、mp4等
                权限控制：
                    默认为私有的
                    可以设置为公开
                    细粒度的访问权限：json串控制
                    存储桶默认不公开【建议不公开，只有个别公开】
                    cors：跨域访问控制
                版本控制：
                    默认关闭
                    需要手工开启
                生命周期：
                    数据过期策略
                类型： 
                    S3标准：一般用途 
                    S3标准IA：访问量较低，需要快速访问 
                    S3单区IA：可重新创建不常访问
            辅助性：
                数据迁移（上传）
                    迁移接口：
                        api（软件工具包）
                        控制台
                        cli
                    辅助工具：
                        AWS Snowball： PB级【大硬盘】
                        AWS Snowmobile： EB级【卡车】
                    模式：
                        分段上传
                  
                使用场景：
                    适合：
                        一次写入，多次访问
                        峰谷不均匀
                        大量用户不同场景
                        不断增长
                    不适合：
                        经常变更
                        长期存档
                        数据块存储需求
                付费：
                    存储付费：GB
                    下行流量：
                    api操作：put get list 等
                不付费：
                    上行流量
                    传出amazon ec2、cloud front
    2.Amazon glacier
        特性：
            长期存储
            存档备份
            非常低成本的存储
            不允许修改
        详细：
            批量检索
            加速检索
        glacier深度存档：
            价格最低、档案数据
   
 
    3.Amazon EC2
        功能:
            WEB托管
            数据库
            身份认证
            任何事情?
        优势：
            数据驱动型决策
            快速迭代
            不怕犯错
        特性：实例存储
            元数据持久性不变
            实例存储临时:开关机数据清空【stop start】
        用户数据：
            启动数据
        元数据：
            存储EC2本身信息
        解决问题：
            解决一次性资源问题【设备老旧、迭代、设备问题】
            机器性能易垂直扩展
        类型
           通用性:网站或者web应用和测试
           计算优化型：计算密集型，数据分析
           内存优化型：内存数据库
           存储优化型：数据库
           GPU优化型（P）：GPU计算
           详细:
           m5.large
        定价：
            开关机【stop、start】计算计算
            reboot：一直计费
            按需实例：
                开源：按秒计费
                license：按小时计费
                适用场景：一般
            预留实例：
                预付费:
                折扣：3-7折
                适用场景：固定时间段
                支付方式：3种
            spot实例：
                活动，促销
                终止前两分钟告知：最低1折
                基于aws供需控制价格
                适用业务：对时间不敏感
                spot块：时间一般为1到6小时
        
        专用选项：
            提供个性化服务：
            专用主机：自身管理ec2，定制运行主机
            专用示例：非特定性主机，无法预知
                
        维护：
            创建最好加上标签
            修改标签很容易
            标签可以通过api取到
        注意（使用技巧）：
            1.尽量一次性创建【机器设备物理位置近】
            2.分布创建【物理设备距离较远】
            
    4.Amazon AMI
       描述：
            系统镜像:类docker、ghost
            与EC2集成使用
            用于创建EC2实例
       获取途径：
            aws构建
            marketplace
            创建自己的
       特性：
           可重复性
           可重用性
           可恢复性
           marketplace解决方案
           备份  
       定制化：
            用户数据：自定义启动脚本
            软件较大建议放在AMI镜像中
            
    5.Amazon EBS
       解决问题：
          与EC2一起使用
          EC2数据持久性问题
       特性：
          EBS只能连接一个EC2实例并且需要同一个可用区
          EBS快照放到S3
       类型：
          通用SSD
          IPOS SSD[持续的IOPS]：成本高些
          吞吐优化
          COLD HDD
          最低成本
    6.Amazon文件系统：      
        Amazon EFS
            linux
            nfsv4系统
        Amazon FSx      
            windows
            NTFS       
 ### 数据库（考试重点）
 
    数据库选择：
        扩展性
        总存储要求
        对象大小和类型
        持久性
        业务查询的复杂度
        
    数据库成本：
        维护成本
        
    数据库类型：
        关系型：
            MySQL
            SqlServer
            Oracle
          特性：
            复杂查询
            垂直扩展
        非关系型
            MongoDB
            Cassandra
            HBase
          特性：
            横向扩展、水平
        缓存
            Redis（缓存）
         
        详细拆分：
            关系型
            键值对
            文档
            in-memory
            graph
            time series
            ledger
            
    Amazon RDS
        关系型数据库
        自动部署集群【主备】
        数据库故障自动进行替换
        dns地址读取
        [mysql、mariadb](16TB)
        [Aurora-for-mysql Aurora-PostgreSQL吞吐量提升至5倍](64TB)建议采用
        
        
        
    Amazon DynamoDB
        非关系型数据库：
            nosql
        事件驱动型编程：
            数据变更通知    
        性能无上限：
            支持水平扩展： 较强的水平扩展能力
        键值对:
            查询、存储方式简单
        一致性hash：
            处理扩容
        全局表：
            
        数据一致性：
            支持强一致性
            最终一致性
        安全控制：
            访问用户
            静态加密
            传输加密
            事件通知
            
    Amazon DMS（DataBase Migration）：
        数据库迁移工具：【100TB】
            AWS SnowBall Edge
        限制：
            至少有一端在aws上
        迁移方式：
            一致性迁移：业务停机
            持续性迁移：业务高可用
        
        AWS Schema Conversion Tool
        
            支持迁移mysql等常见数据库
        
                
 ## 4.实验
 ### 借助S3实现网站的发布
    允许公开访问
    上传完成后，发布
    
    详细见教程
 ### 借助EC2 RDS 进行WEB应用发布
    详细见教程